<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
<head>
    <title>マニュアル: 日本語Wikipediaオントロジー検索Webサービス</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="my_resources/mystyle.css" type="text/css" media="all"/>
    <link rel="stylesheet" href="ext_resources/css/prettify.css" type="text/css" media="all"/>
</head>

<body onload="prettyPrint()">

<div class="page-title">日本語Wikipediaオントロジー検索Webサービス</div>
<div class="menu">
    <ul>
        <li><a href="index.html"> ホーム </a></li>
        <li><a href="http://hpcs01.comp.ae.keio.ac.jp:8081/wikipedia_ontology/class_list"> クラス一覧</a></li>
        <li><a href="http://hpcs01.comp.ae.keio.ac.jp:8081/wikipedia_ontology/property_list"> プロパティ一覧</a></li>
        <li><a href="http://hpcs01.comp.ae.keio.ac.jp:8081/wikipedia_ontology/sparql">SPARQLによる検索</a></li>
        <li><a href="manual.html">マニュアル</a></li>
        <li><a href="changelog.html">更新履歴</a></li>
        <li><a href="statistics.html">統計データ</a></li>
    </ul>
</div>
<div class="container">

<h1>マニュアル</h1>

<p class="page_description">
    以下では，日本語Wikipediaオントロジー(JWO)検索Webサービス ver. 2011-03-10の使用方法について説明する．<br/>
    (一部，前のバージョンの説明が含まれています．)
</p>

<div style="text-align: right; font-size: 80%;">最終更新日: 2011年3月10日</div>

<a name="table_of_contents"></a>

<h2>目次</h2>
<ul>
    <li><a href="#operation_environment">動作環境</a></li>
    <li><a href="#system_overview">システム構成</a></li>
    <li><a href="#jwo_web_apis">JWO Web APIs</a>
        <ul>
            <li><a href="#url_parameters">共通URLパラメータ</a></li>
            <li><a href="#get_class">クラスの取得</a></li>
            <li><a href="#get_class_list">クラス一覧の取得</a></li>
            <li><a href="#get_class_of_instances_list">クラスのインスタンス一覧の取得</a></li>
            <li><a href="#get_property">プロパティの取得</a></li>
            <li><a href="#get_property_list">プロパティ一覧の取得</a></li>
            <li><a href="#get_property_of_instances_list">プロパティを持つインスタンス一覧の取得</a></li>
            <li><a href="#get_instance">インスタンスの取得</a></li>
            <li><a href="#get_instance_list">インスタンス一覧の取得</a></li>
            <li><a href="#get_instance_with_multiple_type">複数のタイプ(rdf:type)を持つインスタンスの取得</a></li>
            <li><a href="#get_class_and_instance_with_inference_model">推論モデルを用いたクラスおよびインスタンスの取得</a></li>
            <li><a href="#resource_uri_and_data_uri">リソース（クラス，プロパティ，インスタンス）のURIとデータのURIの区別について</a></li>
            <li><a href="#data_structure">データ構造</a></li>
            <li><a href="#sparql">SPARQLによる検索</a></li>
        </ul>
    </li>
    <li><a href="#search_interface">日本語Wikipediaオントロジー検索インタフェースの構成</a></li>
    <li><a href="#toolbar">1. ツールバー</a>
        <ul>
            <li><a href="#language_menu">「言語」メニュー</a></li>
            <li><a href="#tool_menu">「ツール」メニュー</a></li>
            <li><a href="#help_menu">「ヘルプ」メニュー</a></li>
        </ul>
    </li>
    <li><a href="#search_panel">2. 検索パネル</a>
        <ul>
            <li><a href="#class_search">クラス検索</a></li>
            <li><a href="#property_search">プロパティ検索</a></li>
            <li><a href="#instance_search">インスタンス検索</a></li>
            <li><a href="#use_inference_model">推論モデルの利用</a></li>
            <li><a href="#number_of_statements">表示ステートメント数</a></li>
        </ul>
    </li>
    <li><a href="#tree_panel">3. 階層パネル</a>
        <ul>
            <li><a href="#class_tree_and_instance_panel">「クラス階層とインスタンス」パネル</a></li>
            <li><a href="#whole_class_tree_panel">「全クラス階層」パネル</a></li>
        </ul>
    </li>
    <li><a href="#statement_tab_etc">4.
        ステートメント，ブックマーク，検索履歴，RDF/XMLの各タブ </a>
        <ul>
            <li><a href="#statement_tab">「ステートメント」タブ</a></li>
            <li><a href="#bookmark_tab">「ブックマーク」タブ</a></li>
            <li><a href="#search_history_tab">「検索履歴」タブ</a></li>
            <li><a href="#rdf_xml_tab">「RDF/XML」タブ</a></li>
        </ul>
    </li>
    <li><a href="#bookmark_and_search_history_panel">5.
        ブックマークと検索履歴パネル</a></li>
    <li><a href="#option">オプション</a></li>
</ul>

<a name="operation_environment"></a>

<h2>動作環境</h2>

<p>基本的には<a href="http://extjs.co.jp/" rel="external">ExtJS 3.3.1</a>が動作可能な環境であれば，JWO検索Webサービスは実行可能である．
    以下の環境で動作確認を行っている．</p>
<ul>
    <li>Google Chrome 9.0.597.98</li>
    <li>FireFox 4.0b12</li>
</ul>

<div style="color: red; font-weight: bold; margin: 1em;">
    <p>Internet Exploreでは現在正常に動作しない．</p>
</div>

<div class="to_table_of_contents"><a href="manual.html#table_of_contents">目次へ</a></div>

<a name="system_overview"></a>

<h2>システム構成</h2>

<div style="width: 100%; height: 500px;">

    <div style="text-align: center; float: left; margin: 0 10px;">
        <img src="./my_resources/figures/system_overview.png" alt="日本語Wikipediaオントロジー検索システムのシステム構成" width="350"/>

        <p style="font-weight: bold;">図1-1: 日本語Wikipediaオントロジー<br/>検索システムのシステム構成</p>
    </div>
    <div
            style="text-align: center; float: left; margin: 10px; margin-top: 130px;">
        <img src="./my_resources/figures/server_setting.png" alt="サーバの構成" width="400"/>

        <p style="font-weight: bold;">図1-2: サーバの構成</p>
    </div>
</div>

<br/>

<p>
    図1-1および1-2にJWO検索Webサービスとそのサーバの構成を示す．
    JWO検索Webサービスは，JWO検索インターフェース，JWO Web APIs，
    JWOデータベース(DB)の大きく分けて3つの部分から構成される．</p>

<p>JWO検索インターフェースは，<a href="http://extjs.co.jp/" rel="external">ExtJS</a>ライブラリを用いて実装されている．
    JWO Web APIsは，
    <a rel="external" href="http://wicket.apache.org/">Apache Wicket</a>，
    <a rel="external" href="http://jena.sourceforge.net/">Jena Semantic
        Web Framework for Java</a>，<a rel="external" href="https://activeobjects.dev.java.net/">ActiveObjects</a>，
    <a rel="external" href="http://github.com/gwhalin/Memcached-Java-Client">Memcached Java Client</a>，
    <a rel="external" href="http://openjena.org/TDB/">TDB - A SPARQL Database for Jena</a>，
    <a rel="external" href="http://www.h2database.com/html/main.html">H2 DB</a>を用いて実装し，
    Servletコンテナ <a href="http://jetty.codehaus.org/jetty/" rel="external">Jetty</a>上で動作している．
     JWO DBは，JenaおよびTDBのAPIを用いてあらかじめOWL形式の
    日本語WikipediaオントロジーおよびインスタンスをTDB形式で格納している．</p>

<p>
    JWO検索インターフェースでは，はじめにユーザが検索キーワードを入力すると，キーワードに関連する日本語Wikipediaオントロジー内の
    クラス，プロパティ，インスタンスを識別するURIに変換する．
    JWO Web APIsでは，クライアントプログラムから問い合わせのあったURIに関連するステートメントをJWO DBに問い合わせて，
    JWO検索インターフェースに，RDF/XMLデータやJSONデータを返す．JWO検索インターフェースは，
    JWO Web APIsから返されたJSONデータを元に，表形式や木構造でWikipediaオントロジーのクラス，プロパティ，インスタンスにおける
    ステートメントや階層関係を表示する．また，ソースコードとしてRDF/XMLデータを表示することもできる．</p>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="jwo_web_apis"></a>

<h2>日本語Wikipediaオントロジー(JWO) Web APIs</h2>

<p>JWO Web APIsは以下の仕様に従って，日本語Wikipediaオントロジー内のクラスやインスタンスに関するRDF/XMLデータやJSONデータを返す．</p>

<a name="url_parameters"></a>

<h3>共通URLパラメータ</h3>

<p>JWO Web APIsは，以下の共通URLパラメータを利用できる．</p>
<dl>
    <dt>search_target</dt>
    <dd>「uri」または「label」を指定可能．「uri」を指定した場合には，リソースURIのローカル名を検索対象とし，「label」を指定した場合には，「rdfs:label」プロパティの値を検索対象とする．</dd>
    <dt>search_option</dt>
    <dd>完全一致 (exact_match)，部分一致 (any_match)，前方一致 (starts_with)，後方一致 (ends_with) 検索オプションのいずれかを指定できる．
        「search_target=uri」とした場合には，「exact_match」のみ指定可能．
    </dd>
    <dt>inference_type</dt>
    <dd>推論器の種類を指定する．現状では「rdfs」のみ指定可能．</dd>
    <dt>start</dt>
    <dd>このパラメータで指定した位置を開始ステートメントとして，limitパラメータで指定した数だけステートメントを返す．</dd>
    <dt>limit</dt>
    <dd>一度に返すステートメント数を指定する．</dd>
    <dt>version</dt>
    <dd>検索対象のWikipediaオントロジーのバージョンを指定．現状では，「2010_11_14」と「2010_02_09]の2種類のみ指定可能．</dd>
</dl>

<p>startとlimitパラメータの使用例として，以下のURLにアクセスすることで，
    「慶應義塾大学の人物」クラスのインスタンスに関する500番目～600番目までのステートメントを取得することができる．
</p>
<br/>

<p><a
        href="http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/%E6%85%B6%E6%87%89%E7%BE%A9%E5%A1%BE%E5%A4%A7%E5%AD%A6%E3%81%AE%E4%BA%BA%E7%89%A9.rdf?start=500&limit=100&search_option=instances_of_class"
        rel="external">
    http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/慶應義塾大学の人物.rdf?start=500&amp;limit=100&amp;search_option=instances_of_class</a>
</p>
<br/>

<p>search_optionパラメータの使用例として，「日本」をラベルに含むクラスを完全一致，部分一致，前方一致，後方一致で検索した結果を取得するためのURLを以下に示す．</p>
<dl>
    <dt>完全一致</dt>
    <dd><a rel="external"
           href="http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/日本.rdf?search_target=label&search_option=exact_match">http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/日本.rdf?search_target=label&amp;search_option=exact_match</a>
    </dd>
    <dt>部分一致</dt>
    <dd><a rel="external"
           href="http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/日本.rdf?search_target=label&search_option=any_match">http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/日本.rdf?search_target=label&amp;search_option=any_match</a>
    </dd>
    <dt>前方一致</dt>
    <dd><a rel="external"
           href="http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/日本.rdf?search_target=label&search_option=starts_with">http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/日本.rdf?search_target=label&amp;search_option=starts_with</a>
    </dd>
    <dt>後方一致</dt>
    <dd><a rel="external"
           href="http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/日本.rdf?search_target=label&search_option=ends_with">http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/日本.rdf?search_target=label&amp;search_option=ends_with</a>
    </dd>
</dl>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="get_class"></a>
<h3>クラスの取得</h3>

<p>
    以下の形式のURIにアクセスすると，クラスに関連するステートメントを取得することができる．以下の注意点は，プロパティとインスタンスについても同様．
<ul>
    <li>[BASE_URI]は，「http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/」を指す．</li>
    <li>pageを指定するとHTMLページを表示，dataを指定するとRDF/XML，N3，N-Triples，JSON, JSONPのいずれかの形式でデータを取得できる．</li>
    <li>拡張子により取得データ形式を変更可能．</li>
    <li>拡張子なしの場合は，RDF/XML形式．</li>
</ul>
</p>

<div class="url">
    [BASE_URI]class/[page|data]/クラス名.[rdf|n3|nt|json|jsonp]?search_option=[パラメータ値]
</div>

<p>
    「search_option」パラメータの値を指定することにより，取得するオントロジー要素を変更できる．
    以下に，クラスに関連するオントロジー要素を取得する際の「search_option」パラメータの値を示す．
</p>

<br/>

<div style="padding-left: 2em;">
    <table class="manual_table">
        <tr>
            <th>クラスに関連するオントロジー要素</th>
            <th>search_optionパラメータ値</th>
        </tr>
        <tr>
            <td>検索クラスを主語リソースとするステートメント</td>
            <td>exact_match</td>
        </tr>
        <tr>
            <td>兄弟クラス</td>
            <td>sibling_classes</td>
        </tr>
        <tr>
            <td>下位クラス</td>
            <td>sub_classes</td>
        </tr>
        <tr>
            <td>定義域クラスのプロパティ（検索クラスを定義域として持つプロパティ）</td>
            <td>properties_of_domain_class</td>
        </tr>
        <tr>
            <td>値域クラスのプロパティ（検索クラスを値域として持つプロパティ）</td>
            <td>properties_of_range_class</td>
        </tr>
        <tr>
            <td>クラスのインスタンス</td>
            <td>instances_of_class</td>
        </tr>
        <tr>
            <td>ルートクラスまでのパス</td>
            <td>path_to_root_class</td>
        </tr>
        <tr>
            <td>逆関係のステートメント(検索クラスを目的語リソースとするステートメント）</td>
            <td>inverse_statements</td>
        </tr>
    </table>
</div>

<h4>exact_matchの例</h4>
<p>
    慶應義塾大学の人物クラスを主語リソースとするステートメントを取得．<br/><br/>
    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/%E6%85%B6%E6%87%89%E7%BE%A9%E5%A1%BE%E5%A4%A7%E5%AD%A6%E3%81%AE%E4%BA%BA%E7%89%A9.rdf"
            rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/慶應義塾大学の人物.rdf</a>
</p>
<br/>

<h4>sibling_classesの例</h4>
<p>
    慶應義塾大学の人物クラスの兄弟クラスを取得．<br/><br/>
    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/%E6%85%B6%E6%87%89%E7%BE%A9%E5%A1%BE%E5%A4%A7%E5%AD%A6%E3%81%AE%E4%BA%BA%E7%89%A9.rdf?search_option=sibling_classes"
            rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/慶應義塾大学の人物.rdf?search_option=sibling_classes</a>
</p>
<br/>

<h4>sub_classesの例</h4>
<p>
    人物クラスの下位クラスを取得．<br/><br/>
    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/%E4%BA%BA%E7%89%A9.rdf?search_option=sub_classes" rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/人物.rdf?search_option=sub_classes</a>
</p>
<br/>

<h4>properties_of_domain_classの例</h4>
<p>
    バレーボール選手クラスを定義域として持つプロパティを取得．<br/><br/>
    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/%e3%83%90%e3%83%ac%e3%83%bc%e3%83%9c%e3%83%bc%e3%83%ab%e9%81%b8%e6%89%8b.rdf?search_option=properties_of_domain_class" rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/バレーボール選手.rdf?search_option=properties_of_domain_class</a>
</p>
<br/>

<h4>properties_of_range_classの例</h4>
<p>
    バレーボールクラスを値域として持つプロパティを取得．<br/><br/>
    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/%e3%83%90%e3%83%ac%e3%83%bc%e3%83%9c%e3%83%bc%e3%83%ab%e9%81%b8%e6%89%8b.rdf?search_option=properties_of_range_class" rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/バレーボール選手.rdf?search_option=properties_of_range_class</a>
</p>
<br/>

<h4>instances_of_classの例</h4>
<p>
    慶應義塾大学の人物クラスのインスタンスを取得．<br/><br/>
    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/%E6%85%B6%E6%87%89%E7%BE%A9%E5%A1%BE%E5%A4%A7%E5%AD%A6%E3%81%AE%E4%BA%BA%E7%89%A9.rdf?search_option=instances_of_class&amp;limit=50&amp;offset=0"
       rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/慶應義塾大学の人物.rdf?search_option=instances_of_class&limit=50&offset=0</a>
</p>
<br/>

<h4>path_to_root_classの例</h4>
<p>
    慶應義塾大学の人物クラスからルートクラスまでのパスを取得．<br/><br/>
    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/%E6%85%B6%E6%87%89%E7%BE%A9%E5%A1%BE%E5%A4%A7%E5%AD%A6%E3%81%AE%E4%BA%BA%E7%89%A9.rdf?search_option=path_to_root_class"
       rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/慶應義塾大学の人物.rdf?search_option=path_to_root_class</a>
</p>
<br/>

<h4>inverse_statementsの例</h4>
<p>
    慶應義塾大学の人物クラスを目的語リソースとするステートメントを取得．<br/><br/>
    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/%E6%85%B6%E6%87%89%E7%BE%A9%E5%A1%BE%E5%A4%A7%E5%AD%A6%E3%81%AE%E4%BA%BA%E7%89%A9.rdf?search_option=inverse_statements"
       rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/慶應義塾大学の人物.rdf?search_option=inverse_statements</a>
</p>
<br/>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="get_class_list"></a>

<h3>クラス一覧の取得</h3>

<p>
    以下の形式のURIにアクセスすると，クラス一覧を取得することができる．（JSON形式のみ対応）
</p>

<div class="url">
    [BASE_URI]class_list?start=[]&limit=[]&order_by=[name_asc, name_desc, instance_count_asc,
    instance_count_desc]&keyword=[クラス名]&search_option=[exact_match|any_match|starts_with|ends_with]
</div>

<h4>order_by（ソート順）</h4>
<dl>
    <dt>name_asc</dt>
    <dd>クラス名 昇順</dd>
    <dt>name_desc</dt>
    <dd>クラス名 降順</dd>
    <dt>instance_count_asc</dt>
    <dd>クラスのインスタンス数 昇順</dd>
    <dt>instance_count_desc</dt>
    <dd>クラスのインスタンス数 降順</dd>
</dl>
<h4>keyword（クラス名）</h4>

<p>
    指定したクラス名またはクラス名の部分文字列とsearch_optionより，完全，部分，前方，後方一致検索を行う．
</p>

<h4>クラス一覧をインスタンス数降順で取得する例</h4>
<p>
    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/class_list?search_option=exact_match&order_by=instance_count_desc&start=0&limit=50" rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class_list?search_option=exact_match&amp;order_by=instance_count_desc&amp;start=0&amp;limit=50</a>
</p>
<br/>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="get_class_of_instances_list"></a>

<h3>クラスのインスタンス一覧の取得</h3>

<p>
    以下の形式のURIにアクセスすると，classパラメータに指定したクラスのインスタンス一覧を取得することができる．（JSON形式のみ対応）
</p>

<div class="url">
    [BASE_URI]class_list?start=[]&limit=[]&class=[クラス名]
</div>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="get_property"></a>

<h3>プロパティの取得</h3>

<p>
    以下の形式のURIにアクセスすると，プロパティに関連するステートメントを取得することができる．
</p>

<div class="url">
    [BASE_URI]property/[page|data]/プロパティ名.[rdf|n3|nt|json|jsonp]?search_option=[パラメータ値]
</div>

<p>
    「search_option」パラメータの値を指定することにより，取得するオントロジー要素を変更できる．
    以下に，プロパティに関連するオントロジー要素を取得する際の「search_option」パラメータの値を示す．
</p>

<br/>

<div style="padding-left: 2em;">
    <table class="manual_table">
        <tr>
            <th>プロパティに関連するオントロジー要素</th>
            <th>search_optionパラメータ値</th>
        </tr>
        <tr>
            <td>検索プロパティを主語リソースとするステートメント</td>
            <td>exact_match</td>
        </tr>
        <tr>
            <td>検索プロパティの定義域</td>
            <td>domain_classes_of_property</td>
        </tr>
        <tr>
            <td>検索プロパティの値域</td>
            <td>range_classes_of_property</td>
        </tr>
        <tr>
            <td>逆関係のステートメント(検索プロパティを目的語リソースとするステートメント）</td>
            <td>inverse_statements</td>
        </tr>
    </table>
</div>

<h4>exact_matchの例</h4>

<p>
    ジャンルプロパティを主語リソースとするステートメントを取得．<br/><br/>

    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/property/data/%E3%82%B8%E3%83%A3%E3%83%B3%E3%83%AB.rdf"
       rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/property/data/ジャンル.rdf</a>
</p>
<br/>

<h4>domain_classes_of_propertyの例</h4>

<p>
    ジャンルプロパティの定義域を取得．<br/><br/>

    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/property/data/%E3%82%B8%E3%83%A3%E3%83%B3%E3%83%AB.rdf?search_option=domain_classes_of_property"
       rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/property/data/ジャンル.rdf?search_option=domain_classes_of_property</a>
</p>
<br/>

<h4>range_classes_of_propertyの例</h4>

<p>
    ジャンルプロパティの値域を取得．<br/><br/>

    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/property/data/%E3%82%B8%E3%83%A3%E3%83%B3%E3%83%AB.rdf?search_option=range_classes_of_property"
       rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/property/data/ジャンル.rdf?search_option=range_classes_of_property</a>
</p>
<br/>


<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="get_property_list"></a>

<h3>プロパティ一覧の取得</h3>

<p>
    以下の形式のURIにアクセスすると，プロパティ一覧を取得することができる．（JSON形式のみ対応）
</p>

<div class="url">
    [BASE_URI]property_list?start=[]&limit=[]&order_by=[name_asc, name_desc, instance_count_asc,
    instance_count_desc]&keyword=[プロパティ名]&search_option=[exact_match|any_match|starts_with|ends_with]
</div>

<h4>order_by（ソート順）</h4>
<dl>
    <dt>name_asc</dt>
    <dd>プロパティ名 昇順</dd>
    <dt>name_desc</dt>
    <dd>プロパティ名 降順</dd>
    <dt>instance_count_asc</dt>
    <dd>プロパティを持つインスタンス数 昇順</dd>
    <dt>instance_count_desc</dt>
    <dd>プロパティを持つインスタンス数 降順</dd>
</dl>
<h4>keyword（プロパティ名）</h4>

<p>
    指定したプロパティ名またはプロパティ名の部分文字列とsearch_optionより，完全，部分，前方，後方一致検索を行う．
</p>

<h4>プロパティ一覧をプロパティを持つインスタンス数降順で取得する例</h4>
<p>
    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/property_list?search_option=exact_match&order_by=instance_count_desc&start=0&limit=50" rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/property_list?search_option=exact_match&amp;order_by=instance_count_desc&amp;start=0&amp;limit=50</a>
</p>
<br/>

<a name="get_property_of_instances_list"></a>

<h3>プロパティを持つインスタンス一覧の取得</h3>

<p>
    以下の形式のURIにアクセスすると，propertyパラメータに指定したプロパティを持つインスタンス一覧を取得することができる．（JSON形式のみ対応）
</p>

<div class="url">
    [BASE_URI]property_list?start=[]&limit=[]&property=[プロパティ名]
</div>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="get_instance"></a>

<h3>インスタンスの取得</h3>

<p>
    以下の形式のURIにアクセスすると，インスタンスに関連するステートメントを取得することができる．
</p>

<div class="url">
    [BASE_URI]instance/[page|data]/インスタンス名.[rdf|n3|nt|json|jsonp]?search_option=[パラメータ値]
</div>

<p>
    「search_option」パラメータの値を指定することにより，取得するオントロジー要素を変更できる．
    以下に，インスタンスに関連するオントロジー要素を取得する際の「search_option」パラメータの値を示す．
</p>

<br/>

<div style="padding-left: 2em;">
    <table class="manual_table">
        <tr>
            <th>インスタンスに関連するオントロジー要素</th>
            <th>search_optionパラメータ値</th>
        </tr>
        <tr>
            <td>検索インスタンスを主語リソースとするステートメント</td>
            <td>exact_match</td>
        </tr>
        <tr>
            <td>インスタンスのタイプ</td>
            <td>types_of_instance</td>
        </tr>
        <tr>
            <td>逆関係のステートメント(検索インスタンスを目的語リソースとするステートメント）</td>
            <td>inverse_statements</td>
        </tr>
    </table>
</div>

<h4>exact_matchの例</h4>

<p>
    福澤諭吉を主語リソースとするステートメントを取得．<br/><br/>

    <a href="http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/instance/data/%E7%A6%8F%E6%BE%A4%E8%AB%AD%E5%90%89.rdf"
       rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/instance/data/福澤諭吉.rdf</a>
</p>
<br/>

<h4>types_of_instanceの例</h4>

<p>
    福澤諭吉のタイプを取得．<br/><br/>

    <a href="http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/instance/data/%E7%A6%8F%E6%BE%A4%E8%AB%AD%E5%90%89.rdf?search_option=types_of_instance"
       rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/instance/data/福澤諭吉.rdf?search_option=types_of_instance</a>
</p>
<br/>

<h4>inverse_statementsの例</h4>

<p>
    福澤諭吉を目的語リソースとするステートメントを取得．<br/><br/>

    <a href="http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/instance/data/%E7%A6%8F%E6%BE%A4%E8%AB%AD%E5%90%89.rdf?search_option=inverse_statements"
       rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/instance/data/福澤諭吉.rdf?search_option=inverse_statements</a>
</p>
<br/>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="get_instance_list"></a>

<h3>インスタンス一覧の取得</h3>

<p>
    以下の形式のURIにアクセスすると，インスタンス一覧を取得することができる．（JSON形式のみ対応）
</p>

<div class="url">
    [BASE_URI]instance_list?start=[]&limit=[]&order_by=[name_asc,
    name_desc]&keyword=[インスタンス名]&search_option=[exact_match|any_match|starts_with|ends_with]
</div>

<h4>order_by（ソート順）</h4>
<dl>
    <dt>name_asc</dt>
    <dd>インスタンス名 昇順</dd>
    <dt>name_desc</dt>
    <dd>インスタンス名 降順</dd>
</dl>
<h4>keyword（インスタンス名）</h4>

<p>
    指定したインスタンス名またはインスタンス名の部分文字列とsearch_optionより，完全，部分，前方，後方一致検索を行う．
</p>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="get_instance_with_multiple_type"></a>

<h3>複数のタイプ(rdf:type)を持つインスタンスの取得</h3>

<p>以下のURIにアクセスすると，複数のタイプ(rdf:type)を持つインスタンス（複数のクラスに属するインスタンス）を取得できる．
    type=[クラス名]をURLパラメータとして複数指定することで，インスタンスをタイプで絞り込むことができるようになっている．
    以下の例では，「慶應義塾大学の人物」クラスと「神奈川県出身の人物」クラスの両方に属するインスタンス一覧を取得する．</p>


<h4>RDF/XMLデータ</h4>

<div class="url">http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/<span
        style="color: green;">class</span>/<span style="color: red;">data/q</span>?type=[クラス名]&amp;type=[クラス名]...
</div>
<p>例： <a
        href="http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/q?type=%E6%85%B6%E6%87%89%E7%BE%A9%E5%A1%BE%E5%A4%A7%E5%AD%A6%E3%81%AE%E4%BA%BA%E7%89%A9&amp;type=%E7%A5%9E%E5%A5%88%E5%B7%9D%E7%9C%8C%E5%87%BA%E8%BA%AB%E3%81%AE%E4%BA%BA%E7%89%A9"
        rel="external">
    http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/q?type=慶應義塾大学の人物&amp;type=神奈川県出身の人物</a>
</p>

<br/>

<h4>JSONデータ</h4>

<div class="url">http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/<span
        style="color: green;">class</span>/<span style="color: red;">data/q.json</span>?type=[クラス名]&amp;type=[クラス名]...
</div>
<p>例： <a
        href="http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/q.json?type=%E6%85%B6%E6%87%89%E7%BE%A9%E5%A1%BE%E5%A4%A7%E5%AD%A6%E3%81%AE%E4%BA%BA%E7%89%A9&amp;type=%E7%A5%9E%E5%A5%88%E5%B7%9D%E7%9C%8C%E5%87%BA%E8%BA%AB%E3%81%AE%E4%BA%BA%E7%89%A9"
        rel="external">http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/q.json?type=慶應義塾大学の人物&amp;type=神奈川県出身の人物
</a></p>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="get_class_and_instance_with_inference_model"></a>

<h3>推論モデルを用いたクラスおよびインスタンスの取得</h3>

<p>RDFS推論ルールにより導きだされたステートメントの集合に対して，クラスおよびインスタンスを取得することができる．</p>

<p>
    例として，「アナウンサー」クラスのインスタンス取得について説明する．「アナウンサー」クラスには，日本語Wikipediaオントロジーにはインスタンスが直接定義されていないため，以下のURIにアクセスしても「アナウンサー」クラスのインスタンスを取得することはできない．</p>
<br/>

<p>
    <a href="http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/%E3%82%A2%E3%83%8A%E3%82%A6%E3%83%B3%E3%82%B5%E3%83%BC.rdf?search_option=instances_of_class&limit=50&offset=0"
       rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/アナウンサー.rdf?search_option=instances_of_class&amp;limit=50&amp;offset=0</a>
</p>

<br/>

<p>
    しかしながら，「アナウンサー」クラスの下位クラスには「日本のアナウンサー」クラスなどのインスタンスが定義されたクラスが存在し，RDFS推論ルールを用いることで，これら下位クラスで定義されたインスタンスも「アナウンサー」クラスのインスタンスであることを導き出すことができる．上記の「アナウンサー」クラスを表すURLに「inference_type=rdfs」オプションを追加することで，
    RDFS推論ルールを用いて導き出したステートメントを取得することができ，結果として「アナウンサー」クラスのインスタンスを取得することができる．</p>
<br/>

<p>
    <a href="http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/%E3%82%A2%E3%83%8A%E3%82%A6%E3%83%B3%E3%82%B5%E3%83%BC.rdf?inference_type=rdfs&search_option=instances_of_class&limit=50&offset=0"
       rel="external">
        http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/data/アナウンサー.rdf?inference_type=rdfs&amp;search_option=instances_of_class&amp;limit=50&amp;offset=0</a>
</p>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="resource_uri_and_data_uri"></a>

<h3>リソース（クラス，プロパティ，インスタンス）のURIとデータのURIの区別について</h3>

<p>クラスやインスタンスを識別するためのURI（リソースのURI）とRDF/XMLやJSONなどのデータを表すURIは区別している．
    現状では，以下の形式でリソースのURIを定義している．</p>

<dl>
    <dt>クラスのURI:</dt>
    <dd>http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/[クラス名]</dd>
    <dt>プロパティのURI:</dt>
    <dd>http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/property/[プロパティ名]</dd>
    <dt>インスタンスのURI:</dt>
    <dd>http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/instance/[インスタンス名]</dd>
</dl>

<p>現在，Request HeaderのAcceptの値によって，ブラウザからのアクセスかエージェント（プログラム）からのアクセスかを識別し，
    人間向けのHTMLページやエージェント向けのRDF/XMLデータを返すようにしている．</p>

<p>例えば，
    http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/[クラス名]にブラウザからアクセスすると，
    http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/page/[クラス名].htmlにリダイレクトされる．
    同様に，http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/instance/[インスタンス名]にブラウザからアクセスすると，
    http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/instance/page/[インスタンス名].htmlにリダイレクトされる．
    アクセス時のRequest
    HeaderのAcceptの値に"text/html"が含まれている場合にはHTMLページにリダイレクトされるようになっている．</p>

<p>また，Request
    HeaderのAcceptの値に"application/rdf+xml"が含まれている場合にはRDF/XMLデータに，
    "application/json"が含まれている場合にはJSON(テーブル用)データにリダイレクトされるようになっている．</p>

<p>以下に，Java言語を用いてHTML，RDF/XML，JSONデータを取得するためのサンプルプログラムを示す．</p>
<pre class="prettyprint java">
public static void main(String[] args) throws Exception {
    String keyword = "慶應義塾大学の人物";
    //String keyword = "福沢諭吉";
     String ns = "http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/";
    //String ns = "http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/instance/";
    keyword = URLEncoder.encode(keyword, "UTF-8");
    URL url = new URL(ns + keyword);
    URLConnection urlConnection = url.openConnection();
    //urlConnection.addRequestProperty("Accept", "text/html");
     urlConnection.addRequestProperty("Accept", "application/rdf+xml");
     //urlConnection.addRequestProperty("Accept", "application/json");
    BufferedReader reader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream(), "UTF-8"));
    while (reader.ready()) {
          System.out.println(reader.readLine());
    }
}
</pre>
<br/>

<p style="color: gray; font-size: 80%;">※
    厳密には，http://hpcs01.comp.ae.keio.ac.jp/でJWO Web APIsは動作しているため，
    http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/からリダイレクトで
    http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/に飛ばしている．
    将来的にJWO Web APIsの設置場所は変更になる可能性がある．
    また，リソースのURIについても，試験的に設定しているため，将来変更になる可能性がある．</p>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="data_structure"></a>

<h3>データ構造</h3>
<h4>RDF/XMLのデータ構造</h4>

<p>主に利用しているプロパティは以下の通り．</p>
<dl>
    <dt>rdfs:label</dt>
    <dd>クラスまたはプロパティのラベルを表す．</dd>
    <dt>rdf:type</dt>
    <dd>インスタンスのタイプ（属するクラス）を表す．</dd>
    <dt>foaf:page</dt>
    <dd>Wikipedia記事ページまたはカテゴリページへのリンクを表す．</dd>
    <dt>rdfs:subClassOf</dt>
    <dd>クラスの上位・下位関係を表す．</dd>
</dl>
<br/>

<p>主に利用している名前空間接頭辞と名前空間の対応付けは以下の通り．</p>
<dl>
    <dt>wikiont_class</dt>
    <dd>http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/class/</dd>
    <dt>wikiont_property</dt>
    <dd>http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/proprety/</dd>
    <dt>wikiont_instance</dt>
    <dd>http://www.yamaguti.comp.ae.keio.ac.jp/wikipedia_ontology/instance/</dd>
    <dt>rdf</dt>
    <dd>http://www.w3.org/1999/02/22-rdf-syntax-ns#</dd>
    <dt>rdfs</dt>
    <dd>http://www.w3.org/2000/01/rdf-schema#</dd>
    <dt>owl</dt>
    <dd>http://www.w3.org/2002/07/owl#</dd>
    <dt>foaf</dt>
    <dd>http://xmlns.com/foaf/0.1/</dd>

</dl>

<h4>JSON（テーブル用）のデータ構造</h4>
<pre class="prettyprint js">
{"statement":[{"subject":"[主語URI]","predicate":"[述語URI]","object":"[目的語URI]"},
                   {"subject":"[主語URI]","predicate":"[述語URI]","object":"[目的語URI]"},
                   ...], ,"numberOfStatements": [ステートメント数]}
</pre>

<p style="color: gray; font-size: 80%;">※
    numberOfStatements属性の値となるステートメント数は，limitとstartを指定した時に返されるデータのステートメント数とは
    異なっている．常に，あるクラスまたはインスタンスに関連するすべてのステートメント数を返すようになっている．
    日本語Wikipediaオントロジー検索システムにおける<a href="#search_panel">検索パネル</a>で表示ステートメント数を指定した場合にも，
    全体としてのステートメント数を把握できるようにするためにnumberOfStatements属性は用意されている．</p>

<h4>JSON（ツリー用）のデータ構造</h4>
<pre class="prettyprint js">
[{"id":"[クラスURI]","text":"[クラスラベル]（[インスタンス数]）",
  "children":[{"id":"[サブクラスURI]または[インスタンスURI]",
  "text":"[クラスラベル]または[インスタンスラベル]","leaf":true,"iconCls":"icon-instance"}],"
  leaf":false,"iconCls":"icon-class"}, ...]
</pre>

<p>children属性の値として，クラスまたはインスタンスの配列を指定することで，階層構造を定義している．
    leaf属性は，そのノードが葉ノードの場合にtrueとなり，そうでない場合にはfalseとなる．iconClsには，ノードを表示するために必要なCSSクラスを指定する．
    日本語Wikipediaオントロジー検索システムでは，クラスを表示するためのCSSクラスとしてicon-classクラスを，インスタンスを表示するためのCSSクラスとして，
    icon-instanceクラスを用意している．スタイルシートは以下のURLから取得できる．</p>

<a
        href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/my_resources/mystyle.css"
        rel="external">http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/my_resources/mystyle.css</a>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="sparql"></a>

<h3>SPARQLによる検索</h3>

<p>
    以下のURLにqパラメータの値としてUTF-8エンコードしたSPARQLクエリを与えると，SPARQLによる検索結果を得ることができる．
</p>

<div style="widt: 600px; text-align: center; padding: 10px;">
    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/sparql">
        http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/sparql
    </a>
</div>

<p>q以外のURLパラメータには以下が指定できる．</p>

<dl>
    <dt>inference_type</dt>
    <dd>推論器の種類を指定する．現状では「rdfs」のみ指定可．</dd>
    <dt>output</dt>
    <dd>「xml」，「txt」，「json」を指定できる．</dd>
    <dt>version</dt>
    <dd>「2010_02_09」と「2010_11_14」の２種類のみ指定可．</dd>
</dl>

<p>例として，「福澤諭吉」をラベルとして持つインスタンスとそのタイプをXML形式で得るためのURLを以下に示す．</p>

<div style="widt: 600px; text-align: center; padding: 10px;">
    <a href="http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/sparql?q=PREFIX++rdf:+%3Chttp://www.w3.org/1999/02/22-rdf-syntax-ns%23%3E%0APREFIX++rdfs:++%3Chttp://www.w3.org/2000/01/rdf-schema%23%3E%0A%0ASELECT+%3Finstance+%3Fclass%0AWHERE%0A{%0A++++%3Finstance+rdf:type+%3Fclass;%0A++++rdfs:label+%22%E7%A6%8F%E6%BE%A4%E8%AB%AD%E5%90%89%22.%0A}&output=xml&inference_type=none">
        http://hpcs01.comp.ae.keio.ac.jp/wikipedia_ontology/sparql?q=PREFIX++rdf:+%3Chttp://www.w3.org/1999/02/22-rdf-syntax-ns%23%3E%0APREFIX++rdfs:++%3Chttp://www.w3.org/2000/01/rdf-schema%23%3E%0A%0ASELECT+%3Finstance+%3Fclass%0AWHERE%0A{%0A++++%3Finstance+rdf:type+%3Fclass;%0A++++rdfs:label+%22%E7%A6%8F%E6%BE%A4%E8%AB%AD%E5%90%89%22.%0A}&output=xml&inference_type=none
    </a>
</div>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="search_interface"></a>

<h2>日本語Wikipediaオントロジー検索インタフェースの構成</h2>

<div style="text-align: center;">
    <img src="./my_resources/figures/search_interface_overview.png" alt="日本語Wikipediaオントロジー検索インタフェース" width="600"/>

    <p style="font-weight: bold;">図2: 日本語Wikipediaオントロジー検索インタフェース</p>
</div>

<br/>

<p>図2に日本語Wikipediaオントロジー検索インタフェースを示す．図2の各数字が表す領域は以下の通りである．</p>

<ol>
    <li>ツールバー</li>
    <li>検索パネル</li>
    <li>階層パネル</li>
    <li>ステートメント，ブックマーク，検索履歴，RDF/XMLの各タブ</li>
    <li>ブックマークと検索履歴パネル</li>
    <li>ステータスバー</li>
</ol>

<p>6. ステータスバーには検索パネルで検索したクラスまたはインスタンスを識別するURIが表示される．</p>

<p>以下では，6. ステータスバー以外の各領域について説明する．</p>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="toolbar"></a>

<h2>1. ツールバー</h2>

<a name="language_menu"></a>

<h3>「言語」メニュー</h3>
<dl>
    <dt>英語</dt>
    <dd>英語表示の検索インタフェースを表示．</dd>
    <dt>日本語</dt>
    <dd>日本語表示の検索インタフェースを表示．</dd>
</dl>

<a name="tool_menu"></a>

<h3>「ツール」メニュー</h3>
<dl>
    <dt>全クラス階層を表示</dt>
    <dd>「全クラス階層」パネルに日本語Wikipediaオントロジーの全クラス階層を読み込み表示する．</dd>
    <dt>オプション</dt>
    <dd>オプションダイアログを表示する．</dd>
</dl>

<a name="help_menu"></a>

<h3>「ヘルプ」メニュー</h3>
<dl>
    <dt>マニュアル</dt>
    <dd>マニュアルページ（本Webページ）を表示する．</dd>
    <dt>バージョン情報</dt>
    <dd>バージョン情報ダイアログを表示する．</dd>
</dl>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="search_panel"></a>

<h2>2. 検索パネル</h2>

<div style="text-align: center;">
    <img src="./my_resources/figures/search_panel.png" alt="検索パネル" width="600"/>

    <p style="font-weight: bold;">図3: 検索パネル</p>
</div>

<br/>

<a name="class_search"></a>

<h3>クラス検索</h3>

<p>「キーワード」テキストフィールドにクラス名（日本語Wikipediaオントロジー内のクラスが持つラベル（rdfs:labelプロパティの値））を入力し，
    検索対象としてクラスを選択し，検索ボタンを押すと<a href="#statement_tab">「ステートメント」タブ</a>と <a
            href="#class_tree_and_instance_panel">「クラス階層とインスタンス」パネル</a>に
    結果が表示される．検索結果として対象クラスからルートクラスまでのパスおよび対象クラスのインスタンス一覧を取得する．</p>
<br/>

<p>「キーワード」テキストフィールドに複数のクラス名をスペース区切りで入力し，検索ボタンを押すと，
    複数のタイプ(rdf:type)を持つインスタンス（複数のクラスに属するインスタンス）一覧を取得することができる．</p>

<a name="property_search"></a>

<h3>プロパティ検索</h3>

<p>「キーワード」テキストフィールドにプロパティ名（日本語Wikipediaオントロジー内のクラスが持つラベル（rdfs:labelプロパティの値））を入力し，
    検索対象としてプロパティを選択し，検索ボタンを押すと「ステートメント」タブと「クラス階層とインスタンス」パネルに
    結果が表示される．検索結果として対象プロパティに関連するステートメントを取得する．</p>
<br/>

<a name="instance_search"></a>

<h3>インスタンス検索</h3>

<p>「キーワード」テキストフィールドに日本語Wikipediaオントロジー内のインスタンスが持つラベル（rdfs:labelプロパティの値）を入力し，
    検索対象としてインスタンスを選択し，検索ボタンを押すと「ステートメント」タブと「クラス階層とインスタンス」パネルに
    結果が表示される．検索結果として，対象インスタンスとそれがタイプとして持つクラス(rdf:typeの値）とそれぞれのクラスからルートまでのパスを取得する．</p>

<a name="use_inference_model"></a>

<h3>推論モデルの利用</h3>

<p>
    「推論モデルの利用」チェックボタンにチェックを入れると，RDFS推論ルールにより導き出されたステートメントも検索対象として検索を行うことができる．
    例えば，アナウンサークラスを検索すると直接インスタンスは定義されていないため，検索結果としてインスタンス数はゼロ（ステートメント数は78）となる．
    推論モデルの利用にチェックを入れて再度検索を行うとアナウンサークラスのサブクラスに定義された「日本のアナウンサー」クラスなどのインスタンスも
    アナウンサークラスのインスタンスとして導きだされるため，検索結果としてインスタンス数は375（ステートメント数は9176）となる．</p>

<a name="number_of_statements"></a>

<h3>表示ステートメント数</h3>

<p>ステートメントタブに表示するステートメント数を設定することができる．コンボボックスに用意されている値の他，
    テキストを編集することで任意の表示ステートメント数を設定することができる．</p>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="tree_panel"></a>

<h2>3. 階層パネル</h2>

<p>階層パネルには，「クラス階層とインスタンス」パネルと「全クラス階層」パネルをそれぞれ選択し，表示することができる．
    「クラス階層とインスタンス」パネルには，検索したクラスまたはインスタンスに関連する階層関係が表示される．
    「全クラス階層」パネルには，日本語Wikipediaオントロジーにおける全クラス階層が表示される． 以下では，それぞれについて説明する．</p>

<a name="class_tree_and_instance_panel"></a>

<h3>「クラス階層とインスタンス」パネル</h3>

<div style="width: 100%; height: 440px;">

    <div style="text-align: center; float: left; margin: 0 30px;">
        <img src="./my_resources/figures/class_tree_and_instances_panel.png" alt="「クラス階層とインスタンス」パネル" width="300"/>

        <p style="font-weight: bold;">図4: 「クラス階層とインスタンス」パネル</p>
    </div>

    <div
            style="text-align: center; float: left; margin: 30px; margin-top: 180px;">
        <img src="./my_resources/figures/class_and_instance_node_context_menu.png" alt=" コンテキストメニュー" width="300"/>

        <p style="font-weight: bold;">図5: コンテキストメニュー</p>
    </div>

</div>

<p>図4に「クラス階層とインスタンス」パネルを示す．図4の各数字が示す領域は以下のとおりである．</p>

<ol>
    <li>検索フィールドと検索ボタン．クラスまたはインスタンスをキーワードで絞り込んで検索することができる．</li>
    <li>階層をすべて開くボタン</li>
    <li>階層をすべて閉じるボタン</li>
    <li>クラスおよびインスタンス階層を表示する領域．図4の例では「日本のアナウンサー」クラスで検索した際の
        「日本のアナウンサー」クラスからルートクラスまでの階層関係および「日本のアナウンサー」クラスのインスタンスが表示されている．
        「日本のアナウンサー」クラスノードの末尾に括弧内で示している数値（375）は，「日本のアナウンサー」クラスに属するインスタンス数を示している．
        クラスまたはインスタンスを左クリックすると，選択したクラスまたはインスタンスを検索した結果が表示される．
    </li>
</ol>

<p>図5にクラスまたはインスタンスノードを右クリックした際に表示されるコンテキストメニューを示す．</p>

<h4>クラスノードのコンテキストメニュー</h4>

<p>図5上部は，「日本のアナウンサー」
    クラスノードを右クリックした際に表示されるコンテキストメニューを示している．クラスノードのコンテキストメニューでは，
    「選択したクラスノードで検索を行う」，「選択したクラスノードで絞り込む」，「選択したクラスノードをブックマークに追加する」という
    ３つの機能を実行できる．「選択したクラスノードで絞り込む」メニューを選択した場合，現在の検索キーワードに加えて，選択したクラスを
    キーワードに加えて検索を行う．つまり，複数タイプを持つインスタンスの検索を行うことができる．ブックマーク機能については， <a
            href="#bookmark_tab">「ブックマーク」タブ</a>で詳細を説明する．</p>

<h4>インスタンスノードのコンテキストメニュー</h4>

<p>
    図5下部は，「日本のアナウンサー」クラスのインスタンスである「三宅正治」ノードを右クリックした際に表示されるコンテキストメニューを示している．
    インスタンスノードのコンテキストメニューでは，「選択したインスタンスノードで検索を行う」，「選択したインスタンスノードをブックマークに追加する」の
    ２つの機能を実行できる．</p>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="whole_class_tree_panel"></a>

<h3>「全クラス階層」パネル</h3>

<p>「全クラス階層」パネルは，日本語Wikipediaオントロジー内の全クラス階層を表示するパネルである．
    初期状態では表示されず，ツールの「全クラス階層を表示」メニューを実行することで表示することが可能となっている．</p>

<p style="color: gray; font-size: 80%;">※
    現時点の実装では，すべての階層関係を一度に読み込ませるようになっているため，
    ある程度高速なネットワーク回線とJavaScriptを高速に動作させることができる ハイスペックなパソコンやブラウザの利用を推奨する．</p>

<br/>

<div style="width: 100%; height: 440px;">

    <div style="text-align: center; float: left; margin: 0 30px;">
        <img src="./my_resources/figures/whole_class_tree_panel.png" alt="「全クラス階層」パネル" width="300"/>

        <p style="font-weight: bold;">図6: 「全クラス階層」パネル</p>
    </div>

    <div style="float: left; margin: 0 30px; width: 380px;">
        <p>図6に「全クラス階層」パネルを示す．図6の各数字が示す領域は以下のとおりである．</p>

        <ol>
            <li>検索フィールドと検索ボタン．クラスを絞り込んで検索することができる．初回検索時に全ノードを展開する必要があるため，
                非常に時間がかかるので注意．
            </li>
            <li>階層をすべて開くボタン．全クラス階層をすべて展開すると非常に時間がかかるため注意．</li>
            <li>階層をすべて閉じるボタン</li>
            <li>全クラス階層を表示する領域．マウスの左クリックおよび右クリックの動作は，<a
                    href="#class_tree_and_instance_panel"> 「クラス階層とインスタンス」パネル</a>と同様．
            </li>
        </ol>

    </div>

</div>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="statement_tab_etc"></a>

<h2>4. ステートメント，ブックマーク，検索履歴，RDF/XMLの各タブ</h2>

<a name="statement_tab"></a>

<h3>「ステートメント」タブ</h3>

<div style="text-align: center;">
    <img src="./my_resources/figures/statement_tab.png" alt=" 「ステートメント」タブ" width="700"/>

    <p style="font-weight: bold;">図7: 「ステートメント」タブ</p>
</div>
<br/>

<p>図7に「ステートメント」タブを示す．「ステートメント」タブには，検索パネルで検索したクラスまたはインスタンスに
    関連するステートメントのリストが表示される．図7の各数字が示す領域は以下のとおりである．</p>

<ol>
    <li>ステートメントにおける主語を表す列．この部分を左クリックすることで，ステートメントリストを主語のラベルでソート（降順または昇順）することができる．</li>
    <li>ステートメントにおける述語を表す列．この部分を左クリックすることで，ステートメントリストを述語のラベルでソート（降順または昇順）することができる．</li>
    <li>ステートメントにおける目的語を表す列．この部分を左クリックすることで，ステートメントリストを目的語のラベルでソート（降順または昇順）することができる．</li>
    <li>ステートメントリストを表示する領域．初期状態では主語リソースでグルーピングされて表示される．各行の左端にあるプラスボタンを左クリックし展開することで，
        選択した主語リソースでグルーピングされていたステートメントリストを表示することができる．図7は，「日本の小説家」クラスのインスタンスに関連する
        ステートメントリストを表示している．また，「wikiont_instance:よしもとばなな」を主語リソースとするステートメントリストを展開して表示している．
    </li>
    <li>左右にある矢印ボタンをクリックすることで，検索パネルで指定した表示ステートメント数ごとに「ステートメント」タブの内容を切り替えることができる．
        また，スライダーをドラッグすることで同様に表示するステートメントリストを切り替えることができる．
    </li>
    <li>検索したインスタンスまたはクラスに関連する全ステートメント数および現在表示しているステートメントリストが全体の何番目から何番目までかを表示する．
        5と同様，適当な位置で左マウスクリックすると，表示するステートメントリストを切り替えることができる．
    </li>
</ol>

<p>wikiont_classまたはwikiont_instance接頭辞がついている主語または目的語リソースについては，
    セル（アイコン部分またはハイパーリンク以外の部分）を左クリックをすることで， 選択したクラスまたはインスタンスで再検索を行うことができる．
    また，クラスまたはインスタンスのセル部分を右クリックすることで，図5と同様のコンテキストメニューが表示される．
    ハイパーリンクをクリックすると，そのリソースに関するステートメントリストをRDF/XML形式で表示する．
    foaf:pageプロパティの値となっている目的語リソースについては，ハイパーリンクをクリックすると，
    Wikipediaにおけるカテゴリページまたは記事ページにアクセスすることができる．</p>

<div style="text-align: center;">
    <img src="./my_resources/figures/statement_tab_option.png" alt="「ステートメント」タブ 表示設定" width="600"/>

    <p style="font-weight: bold;">図8: 「ステートメント」タブ 表示設定</p>
</div>
<br/>

<p>主語，述語，目的語各列名を表すボタンの右端にある下向きの三角ボタンをクリックすると，
    図8に示すように「ステートメント」タブの表示内容を変更するためのメニューが表示される．
    「昇順」，「降順」メニューにより，選択した列のソート方向を決めることができる．
    「カラム」メニューでは，主語，述語，目的語列の表示・非表示を切り替えることができる．
    「このカラムでグルーピング」メニューを選択すると，選択した列でグルーピングすることができる．
    「グルーピング」チェックボックスのチェックをはずすことで，グルーピングを解除することができる．</p>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="bookmark_tab"></a>

<h3>「ブックマーク」タブ</h3>

<div style="text-align: center;">
    <img alt=" 「ブックマーク」タブ" src="./my_resources/figures/bookmark_tab.png" width="700"/>

    <p style="font-weight: bold;">図9: 「ブックマーク」タブ</p>
</div>
<br/>

<p>図9に「ブックマーク」タブを示す．「ブックマーク」タブでは，登録されたクラスまたはインスタンスの管理を行うことができる．
    キーワード，推論モデルの利用，URL，日時，検索対象の5項目が保存される．日時と検索対象は初期状態では
    表示されない．各列名を示すボタン右端の下向き三角ボタンをクリックし，カラムメニューからそれぞれの
    項目に対応するチェックボックスにチェックを入れることで非表示項目も表示することができる．</p>

<p>「ブックマーク」タブに表示されるクラスおよびインスタンスリストにはそれぞれの行の左端にチェックボックスがついている．
    このチェックボックスにチェックをいれると，「ブックマーク」タブ上部にある「選択したブックマークを開く」，
    「選択したブックマークを削除」メニューを実行することができる．また，「現在のキーワードをブックマークに追加」メニューを
    実行すると，直前に検索パネルでクラスまたはインスタンスを検索した結果をブックマークとして保存することができる．</p>

<p>ブックマークを開くためには，「選択したブックマークを開く」メニューを実行する他，クラスまたはインスタンスを <span
        style="font-weight: bold;">ダブルクリック</span>することで開くこともできる．</p>

<p>各行を右クリックした際に表示されるコンテキストメニューは図5と同様である．</p>


<h4>インポートとエクスポート</h4>

<div style="text-align: center;">
    <img alt="「インポート/エクスポート」ダイアログ" src="./my_resources/figures/import_export_dialog.png" width="500"/>

    <p style="font-weight: bold;">図10: 「インポート/エクスポート」ダイアログ</p>
</div>
<br/>

<p>保存されたブックマークは日本語Wikipediaオントロジー検索システムのページを再読込するとリセットされてしまう．
    「エクスポート」メニューを実行することで，図10に示すように「インポート/エクスポート」ダイアログが表示され，
    現在のブックマークの状態をCSV形式で出力することができる．出力されたCSV形式のテキストデータをファイルに保存しておくことで，
    日本語Wikipediaオントロジー検索システムを再度実行した際に，「ブックマーク」タブから「インポート」メニューを実行し，
    ブックマークをインポートすることができる．「インポート/エクスポート」ダイアログのテキストエリアに保存しておいたCSV形式の
    ブックマークデータをテキストとして貼り付け，インポートボタンを押すと，ブックマークがインポートされる．</p>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="search_history_tab"></a>

<h3>「検索履歴」タブ</h3>

<div style="text-align: center;">
    <img src="./my_resources/figures/search_history_tab.png" alt="「検索履歴」タブ" width="700"/>

    <p style="font-weight: bold;">図11: 「検索履歴」タブ</p>
</div>
<br/>

<p>
    図11に「検索履歴」タブを示す．検索パネル，「ステートメント」タブ，「クラス階層とインスタンス」パネル，「全クラス階層」パネル，「ブックマーク」タブから
    検索されたクラスまたはインスタンスは，「検索履歴」パネルに検索履歴として自動的に保存される．
    「検索履歴」タブの表示項目は「ブックマーク」タブの表示項目と同様である．メニューもほぼ「ブックマーク」タブと同様であるが，「選択した履歴をブックマークに追加」と
    「すべての履歴を削除」メニューが独自に用意されている．</p>

<p>
    各行を右クリックした際に表示されるコンテキストメニューは図5とほぼ同様であるが，「クラスまたはインスタンスを検索履歴から削除」するメニューが
    独自に用意されている．</p>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="rdf_xml_tab"></a>

<h3>「RDF/XML」タブ</h3>

<div style="text-align: center;">
    <img src="./my_resources/figures/rdf_xml_tab.png" alt="「RDF/XML」タブ" width="700"/>

    <p style="font-weight: bold;">図12: 「RDF/XML」タブ</p>
</div>
<br/>

<p>「RDF/XML」タブには，検索したクラスまたはインスタンスに関連するステートメントがRDF/XML形式で表示される．
    「RDF/XML」タブを一度も選択していない状態では，RDF/XML形式でソースは表示されないので注意．</p>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="bookmark_and_search_history_panel"></a>

<h2>5. ブックマークと検索履歴パネル</h2>

<div style="text-align: center;">
    <img src="./my_resources/figures/bookmark_and_search_history_panel.png" alt="「ブックマークと検索履歴」パネル" width="700"/>

    <p style="font-weight: bold;">図13: 「ブックマークと検索履歴」パネル</p>
</div>
<br/>

<p>図13に「ブックマーク」パネルと「検索履歴」パネルを示す．基本的には「ブックマーク」タブと「検索履歴」タブと同様であるが，
    「ステートメント」タブを開いた状態でもブックマークや検索履歴にアクセスすることができるようにするために用意されている．
    初期状態の表示項目はキーワードのみとなっている．また，左クリックで選択したブックマークを開くことができるようになっている．
    （「ブックマーク」タブと「検索履歴」タブでは左ダブルクリックで開くように設定されている．）</p>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

<a name="option"></a>

<h2>オプション</h2>

<div style="text-align: center;">
    <img src="./my_resources/figures/option_dialog.png" alt="「オプション」ダイアログ" width="500"/>

    <p style="font-weight: bold;">図14: 「オプション」ダイアログ</p>
</div>
<br/>

<p>図14に「オプション」ダイアログを示す．「オプション」ダイアログは，ツールのオプションメニューを実行すると表示される．
    ここでは以下に示す４つの項目について設定を行うことができる．なお，この設定はクッキーに保存されるため，
    日本語Wikipediaオントロジー検索システムを再読込した場合にも設定は保持される．</p>

<dl>
    <dt>クラス階層とインスタンスを表示</dt>
    <dd>「クラス階層とインスタンス」パネルに階層関係を表示するかどうかを設定する．初期状態では有効．</dd>
    <dt>クラス階層とインスタンスをすべて展開して表示する</dt>
    <dd>クラスまたはインスタンス検索時に階層関係をすべて展開して表示するかどうかを設定する．
        初期状態では無効になっており，ルート直下の子ノードのみが展開されるようになっている．
    </dd>
    <dt>RDF/XMLを表示</dt>
    <dd>「RDF/XML」タブにソースコードを表示するかどうかを設定する．初期状態では有効．</dd>
    <dt>グルーピングをすべて閉じた状態で表示</dt>
    <dd>「ステートメント」タブでステートメントのリストを表示する際に，
        主語リソースでグルーピングした内容を閉じた状態で表示するかどうかを設定する．初期状態では有効．
        無効にすると，グルーピングされた行左端のプラスボタンを押してステートメントが展開された状態で表示されるようになる．
    </dd>
</dl>

<div class="to_table_of_contents"><a href="#table_of_contents">目次へ</a></div>

</div>
<div class="footer">
    <div class="copyright">Copyright &copy; 2009-2011 慶應義塾大学 理工学部 管理工学科
        <a style="color: white;" href="http://www.yamaguti.comp.ae.keio.ac.jp/">山口研究室</a>．
        All Rights Reserved.
    </div>
</div>
<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-11577244-1");
        pageTracker._trackPageview();
    } catch(err) {
    }
</script>

</body>
</html>

